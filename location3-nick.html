<html>

  <head>
    <link rel="stylesheet" href="stylez.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
  </head>

  <body>
    <div id="nexttol4">
      <a href="location4.html">Next</a>
    </div>
    <div id="backtol2">
      <a href="location2.html">Back</a>
    </div>

    <img src="locations/location3.png" id="bg">
    <img src="location3outlines/chairoutline.png" id="chairoutline">
    <img src="location3outlines/chairprice.png" id="chairoverlay">
    <img src="location3outlines/modsofaoutline.png" id="modsofaoutline">
    <img src="location3outlines/modsofaprice.png" id="modsofaoverlay">
    <img src="location3outlines/sofaoutline.png" id="sofaoutline">
    <img src="location3outlines/sofaprice.png" id="sofaoverlay">


    <script>
    const bg = document.querySelector('#bg')
    const chairol = document.querySelector('#chairoutline')
    const chairov = document.querySelector('#chairoverlay')
    const modsofaol = document.querySelector('#modsofaoutline')
    const modsofaov = document.querySelector('#modsofaoverlay')
    const sofaol = document.querySelector('#sofaoutline')
    const sofaov = document.querySelector('#sofaoverlay')

    const bgVSchairolHeight = chairol.height / bg.height
    const bgVSchairolWidth = chairol.width / bg.width
    const bgVSmodsofaolHeight = modsofaol.height / bg.height
    const bgVSmodsofaolWidth = modsofaol.width / bg.width
    const bgVSsofaolHeight = sofaol.height / bg.height
    const bgVSsofaolWidth = sofaol.width / bg.width

    // function showOverlay (e) {
    //   chairov.style.position = 'absolute'
    //   chairov.style.zIndex = 3
    //   chairov.style.top = (innerHeight / 2) - (chairov.height / 2) + 'px'
    //   chairov.style.left = (innerWidth / 2) - (chairov.width / 2) + 'px'
    //   chairov.style.display = 'block'
    //   modsofaov.style.position = 'absolute'
    //   modsofaov.style.zIndex = 5
    //   modsofaov.style.top = (innerHeight / 2) - (modsofaov.height / 2) + 'px'
    //   modsofaov.style.left = (innerWidth / 2) - (modsofaov.width / 2) + 'px'
    //   modsofaov.style.display = 'block'
    //   sofaov.style.position = 'absolute'
    //   sofaov.style.zIndex = 7
    //   sofaov.style.top = (innerHeight / 2) - (sofaov.height / 2) + 'px'
    //   sofaov.style.left = (innerWidth / 2) - (sofaov.width / 2) + 'px'
    //   sofaov.style.display = 'block'
    // }

    /* ✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲*/
    // HERE I SPLIT THE ABOVE FUNCTION INTO 3

    function showChairovOverlay (e) {
      chairov.style.position = 'absolute'
      chairov.style.zIndex = 3
      chairov.style.top = (innerHeight / 2) - (chairov.height / 2) + 'px'
      chairov.style.left = (innerWidth / 2) - (chairov.width / 2) + 'px'
      chairov.style.display = 'block'

    }

    function showModsofaovOverlay (e) {
      modsofaov.style.position = 'absolute'
      modsofaov.style.zIndex = 5
      modsofaov.style.top = (innerHeight / 2) - (modsofaov.height / 2) + 'px'
      modsofaov.style.left = (innerWidth / 2) - (modsofaov.width / 2) + 'px'
      modsofaov.style.display = 'block'
    }

    function showSofaovOverlay (e) {
      sofaov.style.position = 'absolute'
      sofaov.style.zIndex = 7
      sofaov.style.top = (innerHeight / 2) - (sofaov.height / 2) + 'px'
      sofaov.style.left = (innerWidth / 2) - (sofaov.width / 2) + 'px'
      sofaov.style.display = 'block'
    }
    /* ✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲*/




    function hideOverlay () {
      chairov.style.display = 'none'
      modsofaov.style.display = 'none'
      sofaov.style.display = 'none'
    }

    function overChair () {
      chairol.style.cursor = 'pointer'
      chairol.src = 'location3outlines/b_chairoutline.png'
    }
    function overModsofa () {
      modsofaol.style.cursor = 'pointer'
      modsofaol.src = 'location3outlines/b_modsofaoutline.png'
    }
    function overSofa () {
      sofaol.style.cursor = 'pointer'
      sofaol.src = 'location3outlines/b_sofaoutline.png'
    }

    function out () {
      chairol.src = 'location3outlines/chairoutline.png'
      modsofaol.src = 'location3outlines/modsofaoutline.png'
      sofaol.src = 'location3outlines/sofaoutline.png'
    }

    function placeBG () {
      const bgAR = bg.width / bg.height
      const chairolAR = chairol.width / chairol.height
      const modsofaolAR = modsofaol.width / modsofaol.height
      const sofaolAR = sofaol.width / sofaol.height
      const winAR = innerWidth / innerHeight
      bg.style.position = 'absolute'
      chairol.style.position = 'absolute'
      modsofaol.style.position = 'absolute'
      sofaol.style.position = 'absolute'
      chairol.style.zIndex = 2
      modsofaol.style.zIndex = 4
      sofaol.style.zIndex = 6
      if (winAR > bgAR) { // when screen is wider than bg ratio
        bg.style.width = innerHeight * bgAR + 'px'
        bg.style.height = innerHeight + 'px'
        chairol.style.width = bgVSchairolWidth * innerHeight * bgAR + 'px'
        chairol.style.height = bgVSchairolHeight * innerHeight + 'px'
        modsofaol.style.width = bgVSmodsofaolWidth * innerHeight * bgAR + 'px'
        modsofaol.style.height = bgVSmodsofaolHeight * innerHeight + 'px'
        sofaol.style.width = bgVSsofaolWidth * innerHeight * bgAR + 'px'
        sofaol.style.height = bgVSsofaolHeight * innerHeight + 'px'
        bg.style.top = '0px'
        bg.style.left = (innerWidth / 2) - (bg.width / 2) + 'px'

        chairol.style.top = '56.5vh'
        chairol.style.left = (innerWidth / 2) - (bg.width / 2) + (bg.width * 0.865) + 'px'

        modsofaol.style.top = '73.5vh'
        modsofaol.style.left = (innerWidth / 2) - (bg.width / 2) + (bg.width * 0.646) + 'px'

        chairol.style.top = '51.5vh'
        chairol.style.left = (innerWidth / 2) - (bg.width / 2) + (bg.width * 0.287) + 'px'
      } else { // when screen is tighter than bg ratio
        bg.style.width = innerWidth + 'px'
        bg.style.height = innerWidth / bgAR + 'px'
        chairol.style.width = bgVSchairolWidth * innerWidth + 'px'
        chairol.style.height = bgVSchairolHeight * (innerWidth / bgAR) + 'px'
        modsofaol.style.width = bgVSmodsofaolWidth * innerWidth + 'px'
        modsofaol.style.height = bgVSmodsofaolHeight * (innerWidth / bgAR) + 'px'
        sofaol.style.width = bgVSsofaolWidth * innerWidth + 'px'
        sofaol.style.height = bgVSsofaolHeight * (innerWidth / bgAR) + 'px'
        bg.style.top = (innerHeight / 2) - (bg.height / 2) + 'px'
        bg.style.left = '0px'

        chairol.style.top = (innerHeight / 2) - (bg.height / 2) + (bg.height * 0.565) + 'px'
        chairol.style.left = '86.5vw'

        modsofaol.style.top = (innerHeight / 2) - (bg.height / 2) + (bg.height * 0.735) + 'px'
        modsofaol.style.left = '64.6vw'

        sofaol.style.top = (innerHeight / 2) - (bg.height / 2) + (bg.height * 0.515) + 'px'
        sofaol.style.left = '28.7vw'
      }
    }

    // function openLink () {
    //   const urlch = 'https://store.hermanmiller.com/dining/dining-chairs/eames-molded-plastic-stacking-side-chair-dss/5678.html?lang=en_US#lang=en_US&start=1'
    //   const winch = window.open(url1, '_blank')
    //   const urlsf = 'https://www.allermuir.com/us/products/sofas/haven'
    //   const winsf = window.open(url1, '_blank')
    //   win.focus()
    // }

    /* ✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲*/
    // HERE I AGAIN SPLIT THE ABOVE FUNCTION
    // i also renamed the variabls which weren't consistent
    function openChairLink () {
      const url = 'https://store.hermanmiller.com/dining/dining-chairs/eames-molded-plastic-stacking-side-chair-dss/5678.html?lang=en_US#lang=en_US&start=1'
      const win = window.open(url, '_blank')
      win.focus()
    }

    function openSofaLink () {
      const url = 'https://www.allermuir.com/us/products/sofas/haven'
      const win = window.open(url, '_blank')
      win.focus()
    }
    /* ✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲*/


    placeBG()
    hideOverlay()

    /* ✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲*/
    // i updated some of the function names below so they
    // matched with the new ones i made above
    /* ✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲✲´*。.❄¨¯`*✲。❄。*。¨¯`*✲*/

    window.addEventListener('resize', placeBG)
    chairol.addEventListener('mouseover', overChair)
    chairol.addEventListener('mouseout', out)
    chairol.addEventListener('click', showChairovOverlay)
    chairov.addEventListener('click', openChairLink)
    modsofaol.addEventListener('mouseover', overModsofa)
    modsofaol.addEventListener('mouseout', out)
    modsofaol.addEventListener('click', showModsofaovOverlay)
    sofaol.addEventListener('mouseover', overSofa)
    sofaol.addEventListener('mouseout', out)
    sofaol.addEventListener('click', showSofaovOverlay)
    sofaov.addEventListener('click', openSofaLink)
    bg.addEventListener('click', hideOverlay)
    </script>

  </body>

</html>
