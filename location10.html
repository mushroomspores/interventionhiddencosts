<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="stylez.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
  </head>

  <body>
    <img src="location10/next.png" id="returntotitle">
    <img src="location10/back.png" id="backtol9">
    <img src="locations/location10.png" id="bg">

    <script>
    const bg = document.querySelector('#bg')
    const next = document.querySelector('#returntotitle')
    const back = document.querySelector('#backtol9')

    console.log("reached")

    function overNext () {
      next.style.cursor = 'pointer'
      next.src = 'location10/next.png'
    }
    function overBack () {
      back.style.cursor = 'pointer'
      back.src = 'location10/back.png'
    }

    function placeBG () {
      const bgVSnextHeight = next.height/bg.height
      const bgVSnextWidth = next.width/bg.width
      const bgVSbackHeight = back.height/bg.height
      const bgVSbackWidth = back.width/bg.width

      const bgAR = bg.width / bg.height
      const nextAR = next.width / next.height
      const backAR = back.width / back.height
      const winAR = innerWidth / innerHeight
      bg.style.position = 'absolute'
      next.style.position = 'absolute'
      next.style.zIndex = 3
      back.style.position = 'absolute'
      back.style.zIndex = 2
      console.log(`${winAR}, ${bgAR}`)
      if (winAR > bgAR) { // when screen is wider than bg ratio
          console.log("screen is wider than bg")
        bg.style.width = innerHeight * bgAR + 'px'
        bg.style.height = innerHeight + 'px'
        next.style.width = bgVSnextWidth * innerHeight * bgAR + 'px'
        next.style.height = bgVSnextHeight * innerHeight + 'px'
        back.style.width = bgVSbackWidth * innerHeight * bgAR + 'px'
        back.style.height = bgVSbackHeight * innerHeight + 'px'
        bg.style.top = '0px'
        bg.style.left = (innerWidth / 2) - (bg.width / 2) + 'px'
        next.style.top = '79.3vh'
        next.style.left = (innerWidth / 2) - (bg.width / 2) + (bg.width * 0.467) + 'px'
        back.style.top = '88.9vh'
        back.style.left = (innerWidth / 2) - (bg.width / 2) + (bg.width * 0.486) + 'px'
      } else { // when screen is tighter than bg ratio
          console.log("bg is wider than screen")
        bg.style.width = innerWidth + 'px'
        bg.style.height = innerWidth / bgAR + 'px'
        next.style.width = bgVSnextWidth * innerWidth + 'px'
        next.style.height = bgVSnextHeight * (innerWidth / bgAR) + 'px'
        back.style.width = bgVSbackWidth * innerWidth + 'px'
        back.style.height = bgVSbackHeight * (innerWidth / bgAR) + 'px'
        bg.style.top = (innerHeight / 2) - (bg.height / 2) + 'px'
        bg.style.left = '0px'
        next.style.top = (innerHeight / 2) - (bg.height / 2) + (bg.height * 0.793) + 'px'
        next.style.left = '46.7vw'
        back.style.top = (innerHeight / 2) - (bg.height / 2) + (bg.height * 0.889) + 'px'
        back.style.left = '48.6vw'
      }
    }

    function openNextLink () {
      const url = 'note.html'
      const win = window.open(url, '_self')
    }
    function openBackLink () {
      const url = 'location9.html'
      const win = window.open(url, '_self')
    }

    window.addEventListener('load', placeBG)
    window.addEventListener('resize', placeBG)

    next.addEventListener('click', openNextLink)
    next.addEventListener('mouseover', overNext)
    back.addEventListener('click', openBackLink)
    back.addEventListener('mouseover', overBack)

    </script>

  </body>

</html>
